name: openmeteo
version: "0.1.0"
type: rust
description: Open-Meteo weather data publisher
author: Bubbaloop Team
build: pixi run build
command: ./target/release/openmeteo_node

capabilities:
  - sensor

publishes:
  - suffix: weather/current
    description: "Current weather conditions (temperature, humidity, wind, precipitation, pressure)"
    schema_type: "bubbaloop.weather.v1.CurrentWeather"
    rate_hz: 0.033

  - suffix: weather/hourly
    description: "Hourly weather forecast (48 hours by default)"
    schema_type: "bubbaloop.weather.v1.HourlyForecast"
    rate_hz: 0.00056

  - suffix: weather/daily
    description: "Daily weather forecast (7 days by default)"
    schema_type: "bubbaloop.weather.v1.DailyForecast"
    rate_hz: 0.00009

subscribes:
  - suffix: weather/config/location
    description: "Location updates for changing weather query coordinates"
    schema_type: "bubbaloop.weather.v1.LocationConfig"

requires:
  hardware:
    - network
